# Инфологическое проектирование
**Анализ предметной области** </br>
БД должна содержать данные о сделках, платежах, пользователях, ролях, расчетах, отчетах, курсах валют.</br>
Для создания ER-модели необходимо выделить сущности предметной области и указать их атрибуты:
- Сделки: id, дата создания, дата погашения, типология сделки, тип опциона, id контракта, платежный тип, продукт, стоимость, портфель, наименование представления.
- Платежи: id, дата создания, дата погашения, типология сделки, тип опциона, id контракта, платежный тип, продукт, наименование потока, стоимость, валюта.
- Курсы: id, дата, валюта, значение
- Расчеты: id расчета, дата расчета, время запуска, время завершения, id пользователя, id платежа, статус, наименование потока.
- Отчеты: id отчета, время запуска, время завершения, id пользователя, наименование, статус.
- Пользователи: id, ФИО, роль, логин, почта.
- Роли: id, название, совместимость, права.
- Права: id, наименование права, назначение.
- Аудит: id, время события, наименование события, пользователь.


![ER–диаграмма «Система расчета ликвидности»](https://github.com/user-attachments/assets/db964de2-4a62-4bb6-a08b-17835ecbe9c1)</br>
**ER–диаграмма «Система расчета ликвидности»** </br>


**Анализ информационных задач и круга пользователей системы**</br>
Определим группы пользователей, их основные задачи и запросы к БД:</br>

***Администратор системы:***
- выдача прав;
- редактирование информации о пользователях
- прсомтр аудита;
- просмотр расчетов, отчетов;

***Бизнес-пользователь:***
- просмотр и запуск расчетов
- запуск и скачивание отчетов
  
***Аудитор:***
- скачивание отчета;
- просмотр результатов расчета

# Выбор СУБД и других программных средств
Ввиду широкой разновидности типов платежей, в каждом из которых есть свои параметры, а также частом расширении загружаемых атрибутов, было принято решение использовать NoSQL базу данных документо-ориентированного типа. Таким образом физическое проектирование будет выполнено с использованием СУБД Mongodb версии 5.0.6.

# Логическое проектирование БД
Преобразование ER–диаграммы в схему БД выполняется путем сопоставления каждой сущности и каждой связи. В Mongodb есть два способа связывания таблиц: встроенные документы и ссылки.

![image](https://github.com/user-attachments/assets/9d476a54-58ce-4af4-9781-09973ead2bc5)
**Полученная схема нереляционной базы данных (НРБД)**


